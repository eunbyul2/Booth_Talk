# ğŸ–¼ï¸ Unsplash ìë™ ì´ë¯¸ì§€ ìƒì„± ê¸°ëŠ¥ - êµ¬í˜„ ë¬¸ì„œ

> **ì‘ì„±ì¼**: 2025-01-07
> **ëŒ€ìƒ**: ì€ë³„ë‹˜ (í’€ìŠ¤íƒ ê°œë°œì)
> **ëª©ì **: Git Branch Merge ì‹œ ì¶©ëŒ ë°©ì§€ ë° ë³€ê²½ì‚¬í•­ íŒŒì•…

---

## ğŸ“‹ ëª©ì°¨

1. [ê°œìš”](#ê°œìš”)
2. [êµ¬í˜„ ë°°ê²½ ë° ëª©ì ](#êµ¬í˜„-ë°°ê²½-ë°-ëª©ì )
3. [í•µì‹¬ ì•„í‚¤í…ì²˜](#í•µì‹¬-ì•„í‚¤í…ì²˜)
4. [ë°±ì—”ë“œ ë³€ê²½ì‚¬í•­](#ë°±ì—”ë“œ-ë³€ê²½ì‚¬í•­)
5. [í”„ë¡ íŠ¸ì—”ë“œ ë³€ê²½ì‚¬í•­](#í”„ë¡ íŠ¸ì—”ë“œ-ë³€ê²½ì‚¬í•­)
6. [ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜](#ë°ì´í„°ë² ì´ìŠ¤-ë§ˆì´ê·¸ë ˆì´ì…˜)
7. [API ë³€ê²½ì‚¬í•­](#api-ë³€ê²½ì‚¬í•­)
8. [í™˜ê²½ ì„¤ì •](#í™˜ê²½-ì„¤ì •)
9. [í…ŒìŠ¤íŠ¸ ë°©ë²•](#í…ŒìŠ¤íŠ¸-ë°©ë²•)
10. [Merge ì²´í¬ë¦¬ìŠ¤íŠ¸](#merge-ì²´í¬ë¦¬ìŠ¤íŠ¸)
11. [ê¸°ìˆ  ìƒì„¸](#ê¸°ìˆ -ìƒì„¸)
12. [íŠ¸ëŸ¬ë¸”ìŠˆíŒ…](#íŠ¸ëŸ¬ë¸”ìŠˆíŒ…)

---

## ê°œìš”

### êµ¬í˜„ëœ ê¸°ëŠ¥

Unsplash APIì™€ ChatGPT APIë¥¼ í™œìš©í•˜ì—¬ ì´ë²¤íŠ¸ ìƒì„± ì‹œ ìë™ìœ¼ë¡œ ê´€ë ¨ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. ì£¼ìµœì¸¡ì´ ì»¤ìŠ¤í…€ ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•˜ê¸° ì „ê¹Œì§€ ì„ì‹œ í”„ë¦¬ì…‹ ì´ë¯¸ì§€ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### ì£¼ìš” íŠ¹ì§•

- âœ… **ìë™ ì´ë¯¸ì§€ ìƒì„±**: ì´ë²¤íŠ¸ ì´ë¦„, ì„¤ëª…, íƒœê·¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ Unsplashì—ì„œ ê´€ë ¨ ì´ë¯¸ì§€ ê²€ìƒ‰
- âœ… **ChatGPT ì¿¼ë¦¬ ìµœì í™”**: í•œê¸€ ì´ë²¤íŠ¸ ì •ë³´ë¥¼ ì˜ë¬¸ ê²€ìƒ‰ í‚¤ì›Œë“œë¡œ ë³€í™˜
- âœ… **ì´ë¯¸ì§€ ìš°ì„ ìˆœìœ„ ì‹œìŠ¤í…œ**: ì»¤ìŠ¤í…€ ì´ë¯¸ì§€ > Unsplash ì´ë¯¸ì§€ > ì—†ìŒ
- âœ… **CDN ì „ëµ**: Unsplash ì´ë¯¸ì§€ëŠ” ë¡œì»¬ ì €ì¥ ì—†ì´ CDN URL ì§ì ‘ ì‚¬ìš©
- âœ… **ì˜¤ë²„ë ˆì´ UI**: ì´ë¯¸ì§€ ìœ„ì— "ì£¼ìµœì¸¡ì´ ì´ë¯¸ì§€ë¥¼ ë“±ë¡í•  ì˜ˆì •ì…ë‹ˆë‹¤" í…ìŠ¤íŠ¸ í‘œì‹œ

### ì˜í–¥ ë²”ìœ„

- **ë°±ì—”ë“œ**: 7ê°œ íŒŒì¼ (2ê°œ ì‹ ê·œ, 5ê°œ ìˆ˜ì •)
- **í”„ë¡ íŠ¸ì—”ë“œ**: 3ê°œ íŒŒì¼ (ëª¨ë‘ ìˆ˜ì •)
- **ë°ì´í„°ë² ì´ìŠ¤**: `events` í…Œì´ë¸”ì— 2ê°œ ì»¬ëŸ¼ ì¶”ê°€

---

## êµ¬í˜„ ë°°ê²½ ë° ëª©ì 

### ë¬¸ì œ ìƒí™©

ê¸°ì¡´ì—ëŠ” ì£¼ìµœì¸¡ì´ ì´ë²¤íŠ¸ ìƒì„± ì‹œ ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•˜ì§€ ì•Šìœ¼ë©´ ë¹ˆ placeholderë§Œ í‘œì‹œë˜ì–´ ì‚¬ìš©ì ê²½í—˜ì´ ì €í•˜ë˜ì—ˆìŠµë‹ˆë‹¤.

### í•´ê²° ë°©ì•ˆ

1. **Unsplash API**: ê³ í’ˆì§ˆ ë¬´ë£Œ ì´ë¯¸ì§€ ì œê³µ í”Œë«í¼
2. **ChatGPT API**: ì´ë²¤íŠ¸ ì •ë³´ë¥¼ ë¶„ì„í•˜ì—¬ ìµœì ì˜ ì˜ë¬¸ ê²€ìƒ‰ í‚¤ì›Œë“œ ìƒì„±
3. **ìš°ì„ ìˆœìœ„ ì‹œìŠ¤í…œ**: ì£¼ìµœì¸¡ì´ ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•˜ë©´ ìë™ ìƒì„± ì´ë¯¸ì§€ë¥¼ ë®ì–´ì”€

### ê¸°ëŒ€ íš¨ê³¼

- ëª¨ë“  ì´ë²¤íŠ¸ê°€ ì‹œê°ì ìœ¼ë¡œ í’ë¶€í•œ ì´ë¯¸ì§€ë¥¼ ê°€ì§
- ì£¼ìµœì¸¡ì˜ ì‘ì—… ë¶€ë‹´ ê°ì†Œ (ì´ë¯¸ì§€ ì—†ì´ë„ ìƒì„± ê°€ëŠ¥)
- ê´€ëŒê°ì˜ ì‹œê°ì  ë§Œì¡±ë„ í–¥ìƒ

---

## í•µì‹¬ ì•„í‚¤í…ì²˜

### ì´ë¯¸ì§€ ìš°ì„ ìˆœìœ„ ì‹œìŠ¤í…œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì´ë²¤íŠ¸ ìƒì„± ìš”ì²­                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€ ì»¤ìŠ¤í…€ ì´ë¯¸ì§€ ìˆìŒ?
           â”‚  â””â”€ YES â†’ image_urlì— ì €ì¥
           â”‚           has_custom_image = True
           â”‚
           â””â”€ NO â†’ Unsplash ìë™ ìƒì„±
                   â”œâ”€ ChatGPT: ê²€ìƒ‰ ì¿¼ë¦¬ ìƒì„±
                   â”œâ”€ Unsplash API: ì´ë¯¸ì§€ ê²€ìƒ‰
                   â””â”€ unsplash_image_urlì— ì €ì¥
                      has_custom_image = False

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ê´€ëŒê° API ì‘ë‹µ                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â””â”€ has_custom_image?
              â”œâ”€ True  â†’ image_url ë°˜í™˜
              â””â”€ False â†’ unsplash_image_url ë°˜í™˜
```

### ë°ì´í„° íë¦„

```
[ì´ë²¤íŠ¸ ìƒì„±]
    â†“
[ì´ë¯¸ì§€ ìˆìŒ?] â”€â”€ YES â†’ [image_url ì €ì¥] â”€â”
    â†“                                      â”‚
   NO                                      â”‚
    â†“                                      â”‚
[ChatGPT: ì¿¼ë¦¬ ìƒì„±]                       â”‚
    â†“                                      â”‚
[Unsplash: ì´ë¯¸ì§€ ê²€ìƒ‰]                    â”‚
    â†“                                      â”‚
[unsplash_image_url ì €ì¥]                  â”‚
    â†“                                      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
         [DBì— ì €ì¥ ì™„ë£Œ]
                    â†“
         [ê´€ëŒê° API ìš”ì²­]
                    â†“
       [ì´ë¯¸ì§€ ìš°ì„ ìˆœìœ„ ì ìš©]
                    â†“
            [ì‘ë‹µ ë°˜í™˜]
```

---

## ë°±ì—”ë“œ ë³€ê²½ì‚¬í•­

### 1. ìƒˆë¡œ ì¶”ê°€ëœ íŒŒì¼

#### ğŸ“„ `backend/services/unsplash_service.py` (ì‹ ê·œ)

**ëª©ì **: Unsplash API í†µí•© ë° ChatGPT ê¸°ë°˜ ê²€ìƒ‰ ì¿¼ë¦¬ ìµœì í™”

**í•µì‹¬ í´ë˜ìŠ¤**: `UnsplashService`

```python
class UnsplashService:
    def __init__(self):
        self.access_key = os.getenv("UNSPLASH_ACCESS_KEY")
        self.base_url = "https://api.unsplash.com"
        self.openai_client = OpenAI(api_key=os.getenv("OPENAI_API_KEY"))

    def _generate_search_query(self, event_name, description, tags):
        """ChatGPTë¥¼ ì‚¬ìš©í•˜ì—¬ ìµœì ì˜ ì˜ë¬¸ ê²€ìƒ‰ ì¿¼ë¦¬ ìƒì„±"""
        # GPT-4o-mini ì‚¬ìš©, temperature 0.3 (ì •í™•ë„ ì¤‘ì‹œ)
        # 2-4ê°œì˜ ì „ë¬¸ì ì¸ í‚¤ì›Œë“œ ë°˜í™˜

    async def get_event_image(self, event_name, description, tags, orientation="landscape"):
        """Unsplashì—ì„œ ì´ë²¤íŠ¸ ê´€ë ¨ ì´ë¯¸ì§€ ê²€ìƒ‰"""
        # 1. ChatGPTë¡œ ê²€ìƒ‰ ì¿¼ë¦¬ ìƒì„±
        # 2. Unsplash API í˜¸ì¶œ (ì¸ê¸°ìˆœ 10ê°œ)
        # 3. ì²« ë²ˆì§¸ ê²°ê³¼ ì„ íƒ
        # 4. Download endpoint íŠ¸ë¦¬ê±° (Unsplash ê°€ì´ë“œë¼ì¸)
        # 5. url_regular (1080px) ë°˜í™˜

    async def _trigger_download(self, download_location):
        """Unsplash API ê°€ì´ë“œë¼ì¸ ì¤€ìˆ˜ - ë‹¤ìš´ë¡œë“œ ì—”ë“œí¬ì¸íŠ¸ í˜¸ì¶œ"""
```

**ì£¼ìš” ë©”ì„œë“œ**:
- `_generate_search_query()`: ChatGPTë¥¼ ì‚¬ìš©í•œ ê²€ìƒ‰ì–´ ìµœì í™”
- `get_event_image()`: Unsplash ì´ë¯¸ì§€ ê²€ìƒ‰ ë° ë°˜í™˜
- `_trigger_download()`: Unsplash ë‹¤ìš´ë¡œë“œ íŠ¸ë˜í‚¹

**ì˜ì¡´ì„±**:
- `openai` (ChatGPT API)
- `aiohttp` (ë¹„ë™ê¸° HTTP ìš”ì²­)
- `os` (í™˜ê²½ ë³€ìˆ˜)

---

#### ğŸ“„ `backend/add_unsplash_fields.py` (ì‹ ê·œ)

**ëª©ì **: ìˆ˜ë™ ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸

**ì´ìœ **: ì´ í”„ë¡œì íŠ¸ëŠ” Alembicì„ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ìˆ˜ë™ ë§ˆì´ê·¸ë ˆì´ì…˜ í•„ìš”

```python
def migrate():
    """
    events í…Œì´ë¸”ì— unsplash_image_url, has_custom_image ì»¬ëŸ¼ ì¶”ê°€
    """
    # 1. ì»¬ëŸ¼ ì¡´ì¬ ì—¬ë¶€ í™•ì¸ (information_schema)
    # 2. unsplash_image_url VARCHAR ì¶”ê°€
    # 3. has_custom_image BOOLEAN DEFAULT FALSE ì¶”ê°€
    # 4. ê¸°ì¡´ ë°ì´í„° ë°±í•„: image_urlì´ ìˆìœ¼ë©´ has_custom_image=TRUE
```

**ì‹¤í–‰ ë°©ë²•**:
```bash
cd backend
source .venv/bin/activate
python add_unsplash_fields.py
```

**ì‹¤í–‰ ê²°ê³¼**:
- 12ê°œ ê¸°ì¡´ ì´ë²¤íŠ¸ì— `has_custom_image=TRUE` ì„¤ì • ì™„ë£Œ

---

### 2. ìˆ˜ì •ëœ íŒŒì¼

#### ğŸ“„ `backend/.env`

**ë³€ê²½ ë‚´ìš©**: Unsplash API í‚¤ ì¶”ê°€

```bash
# ========================================
# Unsplash API í‚¤ (ìë™ ì´ë¯¸ì§€ ìƒì„±)
# ========================================
UNSPLASH_ACCESS_KEY=H2ALNRjqoANoQJihwnjVEIaYWzR2ITtWeGkz137-FRc
```

**ì£¼ì˜ì‚¬í•­**:
- ì‹¤ì œ í”„ë¡œë•ì…˜ì—ì„œëŠ” ë³„ë„ì˜ í‚¤ ë°œê¸‰ í•„ìš”
- `.env.example`ì—ë„ ì¶”ê°€ í•„ìš”

---

#### ğŸ“„ `backend/models/event.py`

**ë³€ê²½ ìœ„ì¹˜**: Line 52-54 (ê¸°ì¡´ `categories` ì•„ë˜ì— ì¶”ê°€)

```python
# Unsplash ìë™ ì´ë¯¸ì§€ ìƒì„± ê´€ë ¨ í•„ë“œ
unsplash_image_url = Column(String)  # Unsplashì—ì„œ ìë™ ìƒì„±ëœ ì´ë¯¸ì§€ URL
has_custom_image = Column(Boolean, default=False)  # ì£¼ìµœì¸¡ì´ ì§ì ‘ ì—…ë¡œë“œí•œ ì´ë¯¸ì§€ ì—¬ë¶€
```

**ì»¬ëŸ¼ ìƒì„¸**:
- `unsplash_image_url`: Unsplash CDN URL (nullable)
- `has_custom_image`: ì»¤ìŠ¤í…€ ì´ë¯¸ì§€ ì—¬ë¶€ (default: False)

**Merge ì£¼ì˜ì‚¬í•­**:
- ì´ ìœ„ì¹˜ëŠ” ê¸°ì¡´ ì½”ë“œì™€ ì¶©ëŒ ê°€ëŠ¥ì„±ì´ ë‚®ìŒ
- ë‹¨, `categories` í•„ë“œ ì´í›„ì— ì¶”ê°€ë˜ì–´ì•¼ í•¨

---

#### ğŸ“„ `backend/routes/events.py`

**ë³€ê²½ ìœ„ì¹˜**: `create_event` í•¨ìˆ˜ (Line 406-467)

**ë³€ê²½ ë‚´ìš©**: ì´ë²¤íŠ¸ ìƒì„± ì‹œ Unsplash í†µí•©

```python
# ì´ë¯¸ì§€ ì²˜ë¦¬ ë¡œì§
final_image_url = None
has_custom_image = False
unsplash_image_url = None

if request.temp_image_path and os.path.exists(request.temp_image_path):
    # ì»¤ìŠ¤í…€ ì´ë¯¸ì§€ ì—…ë¡œë“œëœ ê²½ìš°
    final_image_url = move_to_permanent_storage(request.temp_image_path)
    has_custom_image = True
else:
    # ì»¤ìŠ¤í…€ ì´ë¯¸ì§€ ì—†ìŒ â†’ Unsplash ìë™ ìƒì„±
    unsplash_service = get_unsplash_service()
    image_data = await unsplash_service.get_event_image(
        event_name=request.form_data.eventName,
        description=request.form_data.description,
        tags=request.tags,
        orientation="landscape"
    )
    if image_data:
        unsplash_image_url = image_data["url_regular"]

# Event ê°ì²´ ìƒì„±
event = Event(
    # ...ê¸°ì¡´ í•„ë“œë“¤...
    image_url=final_image_url,
    unsplash_image_url=unsplash_image_url,
    has_custom_image=has_custom_image,
    # ...ë‚˜ë¨¸ì§€ í•„ë“œë“¤...
)
```

**ì£¼ìš” ë¡œì§**:
1. ì»¤ìŠ¤í…€ ì´ë¯¸ì§€ê°€ ìˆìœ¼ë©´ â†’ `image_url`ì— ì €ì¥, `has_custom_image=True`
2. ì»¤ìŠ¤í…€ ì´ë¯¸ì§€ê°€ ì—†ìœ¼ë©´ â†’ Unsplash í˜¸ì¶œ, `unsplash_image_url`ì— ì €ì¥
3. ë‘ í•„ë“œ ëª¨ë‘ DBì— ì €ì¥

**Merge ì£¼ì˜ì‚¬í•­**:
- `create_event` í•¨ìˆ˜ ì „ì²´ë¥¼ ì‹ ì¤‘íˆ ë¹„êµ
- ì´ë¯¸ì§€ ì—…ë¡œë“œ ë¡œì§ì´ ë³€ê²½ë˜ì—ˆìœ¼ë¯€ë¡œ ê¸°ì¡´ ì½”ë“œì™€ ì¶©ëŒ ê°€ëŠ¥

---

#### ğŸ“„ `backend/routes/events_visitor.py`

**ë³€ê²½ ìœ„ì¹˜**: `get_events_for_visitor` í•¨ìˆ˜ì˜ ì‘ë‹µ ì§ë ¬í™” ë¶€ë¶„ (Line 184)

**ë³€ê²½ ë‚´ìš©**: ì´ë¯¸ì§€ ìš°ì„ ìˆœìœ„ ë¡œì§ ì¶”ê°€

```python
# ê¸°ì¡´ ì½”ë“œ
image_url=event.image_url,

# ë³€ê²½ í›„
image_url=event.image_url if event.has_custom_image else (event.unsplash_image_url or event.image_url),
```

**ë¡œì§ ì„¤ëª…**:
- `has_custom_image=True` â†’ ì»¤ìŠ¤í…€ ì´ë¯¸ì§€ ë°˜í™˜ (`image_url`)
- `has_custom_image=False` â†’ Unsplash ì´ë¯¸ì§€ ë°˜í™˜ (`unsplash_image_url`)
- ë‘˜ ë‹¤ ì—†ìœ¼ë©´ â†’ `None` ë˜ëŠ” ê¸°ì¡´ `image_url`

**Merge ì£¼ì˜ì‚¬í•­**:
- í•œ ì¤„ ë³€ê²½ì´ì§€ë§Œ ì‘ë‹µ í˜•ì‹ì´ ë°”ë€Œë¯€ë¡œ ì£¼ì˜
- í”„ë¡ íŠ¸ì—”ë“œì™€ì˜ í˜¸í™˜ì„± ìœ ì§€ í•„ìš”

---

## í”„ë¡ íŠ¸ì—”ë“œ ë³€ê²½ì‚¬í•­

### 1. EventDetail.jsx

**ë³€ê²½ ìœ„ì¹˜**: ì „ì²´ íŒŒì¼ (Line 1-227)

**ì£¼ìš” ë³€ê²½ì‚¬í•­**:

#### âœ… Mock ë°ì´í„° ì œê±° â†’ ì‹¤ì œ API í†µí•©

**ê¸°ì¡´ ì½”ë“œ**:
```javascript
const [event, setEvent] = useState({
  name: "AI ìŠ¤íƒ€íŠ¸ì—… ë°•ëŒíšŒ",
  company: "í…Œí¬ë…¸ë²¨",
  // ...í•˜ë“œì½”ë”©ëœ ë°ì´í„°
});
```

**ë³€ê²½ í›„**:
```javascript
const [event, setEvent] = useState(null);
const [loading, setLoading] = useState(true);
const [error, setError] = useState(null);

useEffect(() => {
  const fetchEventDetail = async () => {
    try {
      setLoading(true);
      const data = await apiClient.getVisitorEventDetail(eventId);
      setEvent(data);
    } catch (err) {
      setError("ì´ë²¤íŠ¸ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
    } finally {
      setLoading(false);
    }
  };
  if (eventId) {
    fetchEventDetail();
  }
}, [eventId]);
```

#### âœ… ë‚ ì§œ/ì‹œê°„ í¬ë§·íŒ… í•¨ìˆ˜ ì¶”ê°€

```javascript
const formatDate = (startDate, endDate) => {
  if (!startDate) return "";
  const start = new Date(startDate).toLocaleDateString("ko-KR");
  if (endDate && startDate !== endDate) {
    const end = new Date(endDate).toLocaleDateString("ko-KR");
    return `${start} ~ ${end}`;
  }
  return start;
};

const formatTime = (startTime, endTime) => {
  if (!startTime) return "ì‹œê°„ ë¯¸ì •";
  if (endTime) return `${startTime} - ${endTime}`;
  return startTime;
};
```

#### âœ… ì´ë¯¸ì§€ ì˜¤ë²„ë ˆì´ êµ¬í˜„

```javascript
<div className={`event-main-image ${!event.image_url ? "pending" : ""}`}>
  {event.image_url ? (
    <>
      <img
        src={event.image_url}
        alt={event.event_name}
        style={{ width: "100%", height: "100%", objectFit: "cover" }}
      />
      <div className="image-overlay">
        ì£¼ìµœì¸¡ì´ ì´ë¯¸ì§€ë¥¼ ë“±ë¡í•  ì˜ˆì •ì…ë‹ˆë‹¤
      </div>
    </>
  ) : (
    <div className="image-placeholder">
      <span>ğŸ“¸</span>
      <p>ì£¼ìµœì¸¡ì´ ì´ë¯¸ì§€ë¥¼ ë“±ë¡í•  ì˜ˆì •ì…ë‹ˆë‹¤</p>
    </div>
  )}
</div>
```

**ì£¼ìš” ë¡œì§**:
- `image_url`ì´ ìˆìœ¼ë©´ â†’ ì´ë¯¸ì§€ í‘œì‹œ + ì˜¤ë²„ë ˆì´
- `image_url`ì´ ì—†ìœ¼ë©´ â†’ placeholder í‘œì‹œ

#### âœ… ì‹¤ì œ ë°ì´í„° í•„ë“œ ë§¤í•‘

```javascript
// API ì‘ë‹µ í•„ë“œ ì‚¬ìš©
<h1 className="event-title">{event.event_name}</h1>
<p className="event-company">{event.company_name}</p>
{formatDate(event.start_date, event.end_date)}
{formatTime(event.start_time, event.end_time)}
```

**Merge ì£¼ì˜ì‚¬í•­**:
- ì „ì²´ íŒŒì¼ì´ ë¦¬íŒ©í† ë§ë˜ì—ˆìœ¼ë¯€ë¡œ ê¸°ì¡´ ì½”ë“œì™€ ì¶©ëŒ ê°€ëŠ¥ì„± ë†’ìŒ
- ê¸°ì¡´ ê¸°ëŠ¥ì´ ì œëŒ€ë¡œ ë™ì‘í•˜ëŠ”ì§€ ë°˜ë“œì‹œ í…ŒìŠ¤íŠ¸ í•„ìš”

---

### 2. EventDetail.css

**ë³€ê²½ ìœ„ì¹˜**: Line 200-221 (ì¶”ê°€)

**ì¶”ê°€ëœ ìŠ¤íƒ€ì¼**:

```css
/* ì£¼ìµœì¸¡ ì´ë¯¸ì§€ ëŒ€ê¸° ì˜¤ë²„ë ˆì´ */
.event-main-image .image-overlay {
  position: absolute;
  inset: 0;
  background: rgba(0, 0, 0, 0.7);
  backdrop-filter: blur(4px);
  display: flex;
  align-items: center;
  justify-content: center;
  color: rgba(255, 255, 255, 0.95);
  font-size: clamp(1rem, 2.5vw, 1.5rem);
  font-weight: 600;
  text-align: center;
  padding: 2rem;
  opacity: 0;
  transition: opacity 0.4s ease;
  pointer-events: none;
}

.event-main-image.pending .image-overlay {
  opacity: 1;
}
```

**ë™ì‘ ë°©ì‹**:
- ê¸°ë³¸ ìƒíƒœ: `opacity: 0` (ë³´ì´ì§€ ì•ŠìŒ)
- `.pending` í´ë˜ìŠ¤ ì¶”ê°€ ì‹œ: `opacity: 1` (í‘œì‹œ)
- ë°˜íˆ¬ëª… ê²€ì€ ë°°ê²½ + ë¸”ëŸ¬ íš¨ê³¼

**Merge ì£¼ì˜ì‚¬í•­**:
- íŒŒì¼ ëì— ì¶”ê°€ë˜ì—ˆìœ¼ë¯€ë¡œ ì¶©ëŒ ê°€ëŠ¥ì„± ë‚®ìŒ
- ê¸°ì¡´ `.event-main-image` ìŠ¤íƒ€ì¼ê³¼ í˜¸í™˜ì„± í™•ì¸ í•„ìš”

---

### 3. SurveyResponse.css

**ë³€ê²½ ìœ„ì¹˜**: Line 156-196 (ì¶”ê°€)

**ì¶”ê°€ëœ ìŠ¤íƒ€ì¼**: ChronoMorph ë””ìì¸ ì‹œìŠ¤í…œ ì ìš©

```css
/* ChronoMorph Input Styling - ì„¤ë¬¸ ì‘ë‹µì ì •ë³´ ì…ë ¥ í•„ë“œ */
.user-form input,
.user-form select {
  padding: 14px 16px;
  background: rgba(255, 255, 255, 0.06);
  backdrop-filter: blur(16px);
  border: 2px solid rgba(255, 255, 255, 0.12);
  border-radius: 12px;
  color: rgba(238, 240, 255, 0.95);
  font-size: 15px;
  font-weight: 500;
  transition: all 0.3s ease;
  position: relative;
  z-index: 1;
}

.user-form input::placeholder {
  color: rgba(200, 210, 255, 0.5);
}

.user-form input:hover,
.user-form select:hover {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(125, 90, 255, 0.25);
}

.user-form input:focus,
.user-form select:focus {
  outline: none;
  background: rgba(255, 255, 255, 0.1);
  border-color: rgba(125, 90, 255, 0.5);
  box-shadow: 0 0 0 3px rgba(125, 90, 255, 0.2), 0 4px 16px rgba(125, 90, 255, 0.15);
}

.user-form label {
  display: block;
  font-size: 14px;
  font-weight: 600;
  color: rgba(200, 210, 255, 0.85);
  margin-bottom: 8px;
}
```

**ë””ìì¸ íŠ¹ì§•**:
- Glass morphism (ë°˜íˆ¬ëª… ë°°ê²½ + ë¸”ëŸ¬)
- ë³´ë¼ìƒ‰ glow íš¨ê³¼ (focus ì‹œ)
- ë¶€ë“œëŸ¬ìš´ ì „í™˜ íš¨ê³¼
- ChronoMorph ë””ìì¸ ì‹œìŠ¤í…œê³¼ ì¼ê´€ì„± ìœ ì§€

**Merge ì£¼ì˜ì‚¬í•­**:
- ê¸°ì¡´ input ìŠ¤íƒ€ì¼ì´ ìˆë‹¤ë©´ ìš°ì„ ìˆœìœ„ í™•ì¸ í•„ìš”
- `.user-form` í´ë˜ìŠ¤ê°€ ë‹¤ë¥¸ ê³³ì—ì„œ ì‚¬ìš©ë˜ëŠ”ì§€ í™•ì¸

---

## ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜

### ì¶”ê°€ëœ ì»¬ëŸ¼

```sql
-- events í…Œì´ë¸”ì— ì¶”ê°€
ALTER TABLE events
ADD COLUMN unsplash_image_url VARCHAR,
ADD COLUMN has_custom_image BOOLEAN DEFAULT FALSE;

-- ê¸°ì¡´ ë°ì´í„° ë°±í•„
UPDATE events
SET has_custom_image = TRUE
WHERE image_url IS NOT NULL AND image_url != '';
```

### ì»¬ëŸ¼ ì •ì˜

| ì»¬ëŸ¼ëª… | íƒ€ì… | Nullable | Default | ì„¤ëª… |
|--------|------|----------|---------|------|
| `unsplash_image_url` | VARCHAR | YES | NULL | Unsplashì—ì„œ ìë™ ìƒì„±ëœ ì´ë¯¸ì§€ URL |
| `has_custom_image` | BOOLEAN | NO | FALSE | ì£¼ìµœì¸¡ì´ ì§ì ‘ ì—…ë¡œë“œí•œ ì´ë¯¸ì§€ ì—¬ë¶€ |

### ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰

#### ë°©ë²• 1: Python ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš© (ê¶Œì¥)

```bash
cd backend
source .venv/bin/activate
python add_unsplash_fields.py
```

**ì¶œë ¥ ì˜ˆì‹œ**:
```
Successfully added unsplash_image_url column
Successfully added has_custom_image column
Backfilled has_custom_image for 12 events
Migration completed successfully!
```

#### ë°©ë²• 2: SQL ì§ì ‘ ì‹¤í–‰

```bash
psql "postgresql://..." -c "
ALTER TABLE events
ADD COLUMN IF NOT EXISTS unsplash_image_url VARCHAR,
ADD COLUMN IF NOT EXISTS has_custom_image BOOLEAN DEFAULT FALSE;

UPDATE events
SET has_custom_image = TRUE
WHERE image_url IS NOT NULL AND image_url != '';
"
```

### ë§ˆì´ê·¸ë ˆì´ì…˜ ê²€ì¦

```sql
-- ì»¬ëŸ¼ ì¶”ê°€ í™•ì¸
SELECT column_name, data_type, is_nullable, column_default
FROM information_schema.columns
WHERE table_name = 'events'
  AND column_name IN ('unsplash_image_url', 'has_custom_image');

-- ë°ì´í„° í™•ì¸
SELECT id, event_name,
       image_url IS NOT NULL as has_image,
       unsplash_image_url IS NOT NULL as has_unsplash,
       has_custom_image
FROM events
LIMIT 10;
```

### ë¡¤ë°± ë°©ë²•

```sql
ALTER TABLE events
DROP COLUMN IF EXISTS unsplash_image_url,
DROP COLUMN IF EXISTS has_custom_image;
```

---

## API ë³€ê²½ì‚¬í•­

### ì‘ë‹µ í•„ë“œ ì¶”ê°€

#### GET `/api/visitor/events`

**ê¸°ì¡´ ì‘ë‹µ**:
```json
{
  "id": 1,
  "event_name": "AI ìŠ¤íƒ€íŠ¸ì—… ë°•ëŒíšŒ",
  "image_url": "http://example.com/image.jpg",
  ...
}
```

**ë³€ê²½ í›„ ì‘ë‹µ**:
```json
{
  "id": 1,
  "event_name": "AI ìŠ¤íƒ€íŠ¸ì—… ë°•ëŒíšŒ",
  "image_url": "https://images.unsplash.com/photo-xxx?w=1080",
  "has_custom_image": false,
  ...
}
```

**ì£¼ì˜ì‚¬í•­**:
- `image_url` í•„ë“œëŠ” ì´ì œ ìš°ì„ ìˆœìœ„ ë¡œì§ì´ ì ìš©ëœ ê°’ì„ ë°˜í™˜
- ì»¤ìŠ¤í…€ ì´ë¯¸ì§€ê°€ ì—†ìœ¼ë©´ Unsplash URLì´ `image_url`ì— ë“¤ì–´ê°
- í”„ë¡ íŠ¸ì—”ë“œëŠ” `image_url`ë§Œ ì‚¬ìš©í•˜ë©´ ë¨ (ê¸°ì¡´ ë¡œì§ ìœ ì§€)

### ì´ë¯¸ì§€ ìš°ì„ ìˆœìœ„ ë¡œì§

```python
# ë°±ì—”ë“œ ì½”ë“œ
image_url = (
    event.image_url if event.has_custom_image
    else (event.unsplash_image_url or event.image_url)
)
```

**ìš°ì„ ìˆœìœ„**:
1. **ì»¤ìŠ¤í…€ ì´ë¯¸ì§€** (`has_custom_image=True`) â†’ `image_url` ë°˜í™˜
2. **Unsplash ì´ë¯¸ì§€** (`has_custom_image=False`) â†’ `unsplash_image_url` ë°˜í™˜
3. **ì´ë¯¸ì§€ ì—†ìŒ** â†’ `None` ë˜ëŠ” ê¸°ì¡´ `image_url`

### í˜¸í™˜ì„±

âœ… **ê¸°ì¡´ í”„ë¡ íŠ¸ì—”ë“œ ì½”ë“œì™€ í˜¸í™˜**
- `image_url` í•„ë“œë§Œ ì‚¬ìš©í•˜ë©´ ë¨
- ì¶”ê°€ ë¡œì§ ë³€ê²½ ë¶ˆí•„ìš”

âœ… **ì´ì „ ë²„ì „ ë°ì´í„°ì™€ í˜¸í™˜**
- ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹œ ê¸°ì¡´ ë°ì´í„°ëŠ” `has_custom_image=TRUE` ì„¤ì •
- ê¸°ì¡´ ì´ë¯¸ì§€ê°€ ê³„ì† í‘œì‹œë¨

---

## í™˜ê²½ ì„¤ì •

### 1. í™˜ê²½ ë³€ìˆ˜ ì¶”ê°€

#### `backend/.env` íŒŒì¼ì— ì¶”ê°€

```bash
# ========================================
# Unsplash API í‚¤ (ìë™ ì´ë¯¸ì§€ ìƒì„±)
# ========================================
UNSPLASH_ACCESS_KEY=H2ALNRjqoANoQJihwnjVEIaYWzR2ITtWeGkz137-FRc
```

#### `backend/.env.example` íŒŒì¼ì— ì¶”ê°€

```bash
# Unsplash API
UNSPLASH_ACCESS_KEY=your_unsplash_access_key_here
```

### 2. Unsplash API í‚¤ ë°œê¸‰

1. [Unsplash Developers](https://unsplash.com/developers) ì ‘ì†
2. "Register as a developer" í´ë¦­
3. ìƒˆ ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒì„±
4. **Access Key** ë³µì‚¬ (Secret KeyëŠ” ë¶ˆí•„ìš”)
5. `.env` íŒŒì¼ì— ì¶”ê°€

### 3. í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜ í™•ì¸

```bash
# í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜
DATABASE_URL=postgresql://...
OPENAI_API_KEY=sk-...           # ChatGPT API (ì´ë¯¸ ìˆìŒ)
UNSPLASH_ACCESS_KEY=...         # ìƒˆë¡œ ì¶”ê°€
```

### 4. ì˜ì¡´ì„± ì„¤ì¹˜

**ì´ë¯¸ ì„¤ì¹˜ë¨** (ì¶”ê°€ ì„¤ì¹˜ ë¶ˆí•„ìš”):
- `openai` (ChatGPT API)
- `aiohttp` (ë¹„ë™ê¸° HTTP)

---

## í…ŒìŠ¤íŠ¸ ë°©ë²•

### 1. ë°±ì—”ë“œ ë‹¨ë… í…ŒìŠ¤íŠ¸

#### Unsplash ì„œë¹„ìŠ¤ í…ŒìŠ¤íŠ¸

```bash
cd backend
source .venv/bin/activate
python -c "
import asyncio
from services.unsplash_service import get_unsplash_service

async def test():
    service = get_unsplash_service()
    result = await service.get_event_image(
        event_name='AI ìŠ¤íƒ€íŠ¸ì—… ë°•ëŒíšŒ',
        description='ì¸ê³µì§€ëŠ¥ ê¸°ìˆ  ì „ì‹œ',
        tags=['AI', 'ìŠ¤íƒ€íŠ¸ì—…', 'ê¸°ìˆ '],
        orientation='landscape'
    )
    print('Image URL:', result['url_regular'])
    print('Photographer:', result['photographer_name'])

asyncio.run(test())
"
```

**ì˜ˆìƒ ì¶œë ¥**:
```
Image URL: https://images.unsplash.com/photo-xxx?w=1080&...
Photographer: John Doe
```

#### ì´ë²¤íŠ¸ ìƒì„± API í…ŒìŠ¤íŠ¸

```bash
# ì´ë¯¸ì§€ ì—†ì´ ì´ë²¤íŠ¸ ìƒì„± (Unsplash ìë™ ìƒì„±)
curl -X POST http://localhost:8000/api/events \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{
    "eventName": "ë¸”ë¡ì²´ì¸ ì»¨í¼ëŸ°ìŠ¤",
    "description": "ë¸”ë¡ì²´ì¸ ê¸°ìˆ  ë°œí‘œ",
    "tags": ["ë¸”ë¡ì²´ì¸", "ì•”í˜¸í™”í", "ê¸°ìˆ "]
  }'
```

**ì‘ë‹µ í™•ì¸**:
```json
{
  "id": 13,
  "event_name": "ë¸”ë¡ì²´ì¸ ì»¨í¼ëŸ°ìŠ¤",
  "unsplash_image_url": "https://images.unsplash.com/photo-xxx",
  "has_custom_image": false
}
```

### 2. í”„ë¡ íŠ¸ì—”ë“œ í†µí•© í…ŒìŠ¤íŠ¸

#### EventDetail í˜ì´ì§€ í…ŒìŠ¤íŠ¸

1. ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:3002/visitor/event/6` ì ‘ì†
2. **í™•ì¸ ì‚¬í•­**:
   - âœ… ì´ë¯¸ì§€ê°€ í‘œì‹œë˜ëŠ”ê°€?
   - âœ… ì˜¤ë²„ë ˆì´ í…ìŠ¤íŠ¸ê°€ ë³´ì´ëŠ”ê°€?
   - âœ… ì´ë²¤íŠ¸ ì •ë³´ê°€ ì˜¬ë°”ë¥´ê²Œ í‘œì‹œë˜ëŠ”ê°€?

#### ì„¤ë¬¸ ì‘ë‹µ í˜ì´ì§€ í…ŒìŠ¤íŠ¸

1. ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:3002/visitor/survey/6` ì ‘ì†
2. **í™•ì¸ ì‚¬í•­**:
   - âœ… ì…ë ¥ í•„ë“œê°€ ChronoMorph ìŠ¤íƒ€ì¼ë¡œ í‘œì‹œë˜ëŠ”ê°€?
   - âœ… Focus ì‹œ ë³´ë¼ìƒ‰ glowê°€ ë‚˜íƒ€ë‚˜ëŠ”ê°€?
   - âœ… Placeholderê°€ ì˜¬ë°”ë¥´ê²Œ í‘œì‹œë˜ëŠ”ê°€?

### 3. ì´ë¯¸ì§€ ìš°ì„ ìˆœìœ„ í…ŒìŠ¤íŠ¸

#### ì‹œë‚˜ë¦¬ì˜¤ 1: ì»¤ìŠ¤í…€ ì´ë¯¸ì§€ ìˆìŒ

```sql
-- í…ŒìŠ¤íŠ¸ ë°ì´í„° ìƒì„±
INSERT INTO events (event_name, image_url, has_custom_image, ...)
VALUES ('í…ŒìŠ¤íŠ¸ ì´ë²¤íŠ¸', 'http://example.com/custom.jpg', TRUE, ...);
```

**API ì‘ë‹µ í™•ì¸**:
```json
{
  "image_url": "http://example.com/custom.jpg"  // ì»¤ìŠ¤í…€ ì´ë¯¸ì§€ ë°˜í™˜
}
```

#### ì‹œë‚˜ë¦¬ì˜¤ 2: Unsplash ì´ë¯¸ì§€ë§Œ ìˆìŒ

```sql
-- í…ŒìŠ¤íŠ¸ ë°ì´í„° ìƒì„±
INSERT INTO events (event_name, unsplash_image_url, has_custom_image, ...)
VALUES ('í…ŒìŠ¤íŠ¸ ì´ë²¤íŠ¸', 'https://images.unsplash.com/photo-xxx', FALSE, ...);
```

**API ì‘ë‹µ í™•ì¸**:
```json
{
  "image_url": "https://images.unsplash.com/photo-xxx"  // Unsplash ì´ë¯¸ì§€ ë°˜í™˜
}
```

#### ì‹œë‚˜ë¦¬ì˜¤ 3: ì´ë¯¸ì§€ ì—†ìŒ

```sql
-- í…ŒìŠ¤íŠ¸ ë°ì´í„° ìƒì„±
INSERT INTO events (event_name, has_custom_image, ...)
VALUES ('í…ŒìŠ¤íŠ¸ ì´ë²¤íŠ¸', FALSE, ...);
```

**API ì‘ë‹µ í™•ì¸**:
```json
{
  "image_url": null  // null ë°˜í™˜
}
```

---

## Merge ì²´í¬ë¦¬ìŠ¤íŠ¸

### ğŸ”´ ì¶©ëŒ ê°€ëŠ¥ì„± ë†’ì€ íŒŒì¼

#### 1. `backend/routes/events.py`
- **ì¶©ëŒ ìœ„ì¹˜**: `create_event` í•¨ìˆ˜
- **ì´ìœ **: ì´ë¯¸ì§€ ì²˜ë¦¬ ë¡œì§ ì „ì²´ ë³€ê²½
- **í•´ê²° ë°©ë²•**:
  1. ê¸°ì¡´ ì½”ë“œì˜ ì´ë¯¸ì§€ ì—…ë¡œë“œ ë¡œì§ í™•ì¸
  2. Unsplash ìƒì„± ë¡œì§ì„ ì¡°ê±´ë¬¸ `else` ë¸”ë¡ì— ì¶”ê°€
  3. ê¸°ì¡´ ë¡œì§ì€ `if` ë¸”ë¡ì— ìœ ì§€

#### 2. `frontend/src/pages/visitor/EventDetail.jsx`
- **ì¶©ëŒ ìœ„ì¹˜**: ì „ì²´ íŒŒì¼
- **ì´ìœ **: Mock ë°ì´í„° ì œê±° ë° API í†µí•©
- **í•´ê²° ë°©ë²•**:
  1. ê¸°ì¡´ í•˜ë“œì½”ë”©ëœ ë°ì´í„° ì œê±°
  2. `useEffect`ë¡œ API í˜¸ì¶œ ë¡œì§ ì¶”ê°€
  3. ë¡œë”©/ì—ëŸ¬ ìƒíƒœ ê´€ë¦¬ ì¶”ê°€

### ğŸŸ¡ ì¶©ëŒ ê°€ëŠ¥ì„± ì¤‘ê°„ì¸ íŒŒì¼

#### 3. `backend/models/event.py`
- **ì¶©ëŒ ìœ„ì¹˜**: Line 52-54
- **ì´ìœ **: ìƒˆ ì»¬ëŸ¼ ì¶”ê°€
- **í•´ê²° ë°©ë²•**:
  1. `categories` í•„ë“œ ì´í›„ì— ì¶”ê°€
  2. ê¸°ì¡´ í•„ë“œ ìˆœì„œ ìœ ì§€

#### 4. `backend/routes/events_visitor.py`
- **ì¶©ëŒ ìœ„ì¹˜**: Line 184 (ì‘ë‹µ ì§ë ¬í™”)
- **ì´ìœ **: `image_url` ê°’ ìƒì„± ë¡œì§ ë³€ê²½
- **í•´ê²° ë°©ë²•**:
  1. í•œ ì¤„ë§Œ ë³€ê²½í•˜ë©´ ë¨
  2. ì‚¼í•­ ì—°ì‚°ìë¡œ ìš°ì„ ìˆœìœ„ ì ìš©

### ğŸŸ¢ ì¶©ëŒ ê°€ëŠ¥ì„± ë‚®ì€ íŒŒì¼

#### 5. `backend/.env`
- **ì¶©ëŒ ìœ„ì¹˜**: íŒŒì¼ ë
- **ì´ìœ **: í™˜ê²½ ë³€ìˆ˜ ì¶”ê°€
- **í•´ê²° ë°©ë²•**: íŒŒì¼ ëì— ì¶”ê°€

#### 6. `frontend/src/pages/visitor/EventDetail.css`
- **ì¶©ëŒ ìœ„ì¹˜**: íŒŒì¼ ë
- **ì´ìœ **: ìƒˆ ìŠ¤íƒ€ì¼ ì¶”ê°€
- **í•´ê²° ë°©ë²•**: íŒŒì¼ ëì— ì¶”ê°€

#### 7. `frontend/src/pages/visitor/SurveyResponse.css`
- **ì¶©ëŒ ìœ„ì¹˜**: íŒŒì¼ ë
- **ì´ìœ **: ìƒˆ ìŠ¤íƒ€ì¼ ì¶”ê°€
- **í•´ê²° ë°©ë²•**: íŒŒì¼ ëì— ì¶”ê°€

### ğŸ†• ì‹ ê·œ íŒŒì¼ (ì¶©ëŒ ì—†ìŒ)

- `backend/services/unsplash_service.py`
- `backend/add_unsplash_fields.py`

---

## Merge ì „ í•„ìˆ˜ ì‘ì—…

### 1. ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜

```bash
cd backend
source .venv/bin/activate
python add_unsplash_fields.py
```

### 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

```bash
# .env íŒŒì¼ì— ì¶”ê°€
echo "UNSPLASH_ACCESS_KEY=H2ALNRjqoANoQJihwnjVEIaYWzR2ITtWeGkz137-FRc" >> .env
```

### 3. ì˜ì¡´ì„± í™•ì¸

```bash
# ì´ë¯¸ ì„¤ì¹˜ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
pip list | grep openai
pip list | grep aiohttp
```

### 4. í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
# ë°±ì—”ë“œ ì‹œì‘
cd backend
uvicorn main:app --reload

# í”„ë¡ íŠ¸ì—”ë“œ ì‹œì‘
cd frontend
npm run dev

# ë¸Œë¼ìš°ì €ì—ì„œ í™•ì¸
open http://localhost:3002/visitor/event/6
```

---

## Merge í›„ ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸

### âœ… ë°±ì—”ë“œ ê²€ì¦

- [ ] ì„œë²„ê°€ ì •ìƒì ìœ¼ë¡œ ì‹œì‘ë˜ëŠ”ê°€?
- [ ] `/api/visitor/events` APIê°€ ì •ìƒ ì‘ë‹µí•˜ëŠ”ê°€?
- [ ] Unsplash ì´ë¯¸ì§€ê°€ ìƒì„±ë˜ëŠ”ê°€?
- [ ] ì»¤ìŠ¤í…€ ì´ë¯¸ì§€ê°€ ìš°ì„  ë°˜í™˜ë˜ëŠ”ê°€?

### âœ… í”„ë¡ íŠ¸ì—”ë“œ ê²€ì¦

- [ ] EventDetail í˜ì´ì§€ê°€ ì •ìƒ ë Œë”ë§ë˜ëŠ”ê°€?
- [ ] ì´ë¯¸ì§€ê°€ ì˜¬ë°”ë¥´ê²Œ í‘œì‹œë˜ëŠ”ê°€?
- [ ] ì˜¤ë²„ë ˆì´ í…ìŠ¤íŠ¸ê°€ ë³´ì´ëŠ”ê°€?
- [ ] ì„¤ë¬¸ ì…ë ¥ í•„ë“œ ìŠ¤íƒ€ì¼ì´ ì ìš©ë˜ëŠ”ê°€?

### âœ… ë°ì´í„°ë² ì´ìŠ¤ ê²€ì¦

- [ ] `unsplash_image_url` ì»¬ëŸ¼ì´ ì¶”ê°€ë˜ì—ˆëŠ”ê°€?
- [ ] `has_custom_image` ì»¬ëŸ¼ì´ ì¶”ê°€ë˜ì—ˆëŠ”ê°€?
- [ ] ê¸°ì¡´ ë°ì´í„°ê°€ ì˜¬ë°”ë¥´ê²Œ ë°±í•„ë˜ì—ˆëŠ”ê°€?

### âœ… í†µí•© ê²€ì¦

- [ ] ì´ë¯¸ì§€ ì—†ì´ ì´ë²¤íŠ¸ ìƒì„± ì‹œ Unsplash ì´ë¯¸ì§€ê°€ ìë™ ìƒì„±ë˜ëŠ”ê°€?
- [ ] ì´ë¯¸ì§€ ì—…ë¡œë“œ ì‹œ ì»¤ìŠ¤í…€ ì´ë¯¸ì§€ê°€ ìš°ì„  í‘œì‹œë˜ëŠ”ê°€?
- [ ] ê¸°ì¡´ ì´ë²¤íŠ¸ì˜ ì´ë¯¸ì§€ê°€ ì •ìƒ í‘œì‹œë˜ëŠ”ê°€?

---

## ê¸°ìˆ  ìƒì„¸

### 1. UnsplashService í´ë˜ìŠ¤ êµ¬ì¡°

```python
class UnsplashService:
    def __init__(self):
        # API í‚¤ ë° í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™”

    def _generate_search_query(self, event_name, description, tags):
        # ChatGPTë¥¼ ì‚¬ìš©í•œ ê²€ìƒ‰ì–´ ìµœì í™”
        # - ëª¨ë¸: gpt-4o-mini
        # - Temperature: 0.3 (ì •í™•ë„ ì¤‘ì‹œ)
        # - ì¶œë ¥: 2-4ê°œì˜ ì˜ë¬¸ í‚¤ì›Œë“œ

    async def get_event_image(self, event_name, description, tags, orientation):
        # Unsplash ì´ë¯¸ì§€ ê²€ìƒ‰
        # 1. _generate_search_queryë¡œ ê²€ìƒ‰ì–´ ìƒì„±
        # 2. Unsplash API í˜¸ì¶œ (ì¸ê¸°ìˆœ ì •ë ¬)
        # 3. ì²« ë²ˆì§¸ ê²°ê³¼ ì„ íƒ
        # 4. Download endpoint íŠ¸ë¦¬ê±°
        # 5. url_regular (1080px) ë°˜í™˜

    async def _trigger_download(self, download_location):
        # Unsplash API ê°€ì´ë“œë¼ì¸ ì¤€ìˆ˜
        # ë‹¤ìš´ë¡œë“œ ì—”ë“œí¬ì¸íŠ¸ í˜¸ì¶œë¡œ ì¡°íšŒìˆ˜ ì¹´ìš´íŠ¸
```

### 2. ChatGPT ì¿¼ë¦¬ ìƒì„± ì•Œê³ ë¦¬ì¦˜

**ì…ë ¥**:
- `event_name`: "AI ìŠ¤íƒ€íŠ¸ì—… ë°•ëŒíšŒ"
- `description`: "ì¸ê³µì§€ëŠ¥ ê¸°ìˆ  ì „ì‹œ ë° ë„¤íŠ¸ì›Œí‚¹"
- `tags`: ["AI", "ìŠ¤íƒ€íŠ¸ì—…", "ê¸°ìˆ "]

**í”„ë¡¬í”„íŠ¸**:
```
You are a professional image search assistant. Given an event's information,
generate 2-4 professional English keywords for Unsplash image search.

Event name: AI ìŠ¤íƒ€íŠ¸ì—… ë°•ëŒíšŒ
Description: ì¸ê³µì§€ëŠ¥ ê¸°ìˆ  ì „ì‹œ ë° ë„¤íŠ¸ì›Œí‚¹
Tags: AI, ìŠ¤íƒ€íŠ¸ì—…, ê¸°ìˆ 

Return only the keywords, separated by spaces.
```

**ì¶œë ¥**: `"artificial intelligence startup technology exhibition"`

**Unsplash ê²€ìƒ‰**: ì´ í‚¤ì›Œë“œë¡œ ì¸ê¸° ì´ë¯¸ì§€ ê²€ìƒ‰

### 3. ì—ëŸ¬ í•¸ë“¤ë§ ì „ëµ

#### ChatGPT API ì‹¤íŒ¨

```python
try:
    query = self._generate_search_query(...)
except Exception as e:
    # ê¸°ë³¸ ê²€ìƒ‰ì–´ë¡œ í´ë°±
    query = f"{event_name} event conference"
```

#### Unsplash API ì‹¤íŒ¨

```python
try:
    image_data = await self.get_event_image(...)
except Exception as e:
    # ì´ë¯¸ì§€ ì—†ì´ ì§„í–‰
    unsplash_image_url = None
```

#### ë„¤íŠ¸ì›Œí¬ íƒ€ì„ì•„ì›ƒ

```python
async with aiohttp.ClientSession(timeout=aiohttp.ClientTimeout(total=10)) as session:
    # 10ì´ˆ íƒ€ì„ì•„ì›ƒ
```

### 4. CDN ì „ëµ

**Unsplash CDN URL ì§ì ‘ ì‚¬ìš©**:
- âœ… ì¥ì : ë¡œì»¬ ì €ì¥ ê³µê°„ ë¶ˆí•„ìš”, ë¹ ë¥¸ ë¡œë”©
- âœ… ì¥ì : Unsplash CDNì˜ ì´ë¯¸ì§€ ìµœì í™” í™œìš©
- âš ï¸ ë‹¨ì : Unsplash ì„œë¹„ìŠ¤ ì¥ì•  ì‹œ ì´ë¯¸ì§€ ë¡œë”© ì‹¤íŒ¨

**URL í˜•ì‹**:
```
https://images.unsplash.com/photo-1234567890123-abc?
  w=1080              # ë„ˆë¹„ 1080px
  &q=80              # í’ˆì§ˆ 80%
  &auto=format       # ìë™ í¬ë§· (WebP ì§€ì›)
  &fit=crop          # í¬ë¡­
```

### 5. ì´ë¯¸ì§€ í¬ê¸° ë° í’ˆì§ˆ

- **ê°€ë¡œ í¬ê¸°**: 1080px (EventDetail í˜ì´ì§€ ìµœì  í¬ê¸°)
- **ì„¸ë¡œ í¬ê¸°**: ìë™ (ë¹„ìœ¨ ìœ ì§€)
- **í’ˆì§ˆ**: 80% (ìš©ëŸ‰ê³¼ í’ˆì§ˆ ê· í˜•)
- **í¬ë§·**: auto (ë¸Œë¼ìš°ì €ë³„ ìµœì  í¬ë§· ìë™ ì„ íƒ)

---

## íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ë¬¸ì œ 1: Unsplash ì´ë¯¸ì§€ê°€ ìƒì„±ë˜ì§€ ì•ŠìŒ

**ì¦ìƒ**:
- ì´ë²¤íŠ¸ ìƒì„± ì‹œ `unsplash_image_url`ì´ `null`

**ì›ì¸**:
1. Unsplash API í‚¤ê°€ ì˜ëª»ë˜ì—ˆê±°ë‚˜ ë§Œë£Œë¨
2. ChatGPT API í‚¤ê°€ ì—†ê±°ë‚˜ ì˜ëª»ë¨
3. ë„¤íŠ¸ì›Œí¬ ì—°ê²° ë¬¸ì œ

**í•´ê²° ë°©ë²•**:
```bash
# 1. API í‚¤ í™•ì¸
echo $UNSPLASH_ACCESS_KEY
echo $OPENAI_API_KEY

# 2. ìˆ˜ë™ í…ŒìŠ¤íŠ¸
python -c "
import asyncio
from services.unsplash_service import get_unsplash_service

async def test():
    service = get_unsplash_service()
    result = await service.get_event_image('test event', 'description', [], 'landscape')
    print(result)

asyncio.run(test())
"

# 3. ë¡œê·¸ í™•ì¸
# backend/main.pyì—ì„œ ë¡œê·¸ ë ˆë²¨ì„ DEBUGë¡œ ë³€ê²½
```

### ë¬¸ì œ 2: ì´ë¯¸ì§€ ì˜¤ë²„ë ˆì´ê°€ í‘œì‹œë˜ì§€ ì•ŠìŒ

**ì¦ìƒ**:
- EventDetail í˜ì´ì§€ì—ì„œ ì´ë¯¸ì§€ëŠ” ë³´ì´ì§€ë§Œ ì˜¤ë²„ë ˆì´ í…ìŠ¤íŠ¸ê°€ ì—†ìŒ

**ì›ì¸**:
1. CSS íŒŒì¼ì´ ë¡œë“œë˜ì§€ ì•ŠìŒ
2. `.pending` í´ë˜ìŠ¤ê°€ ì¶”ê°€ë˜ì§€ ì•ŠìŒ
3. `image_url`ì´ ìˆì–´ì„œ ì˜¤ë²„ë ˆì´ê°€ ìˆ¨ê²¨ì§

**í•´ê²° ë°©ë²•**:
```javascript
// EventDetail.jsx í™•ì¸
console.log('Image URL:', event.image_url);
console.log('Class:', !event.image_url ? 'pending' : '');

// CSS ë¡œë“œ í™•ì¸
import './EventDetail.css';
```

### ë¬¸ì œ 3: API ì‘ë‹µì— ì´ë¯¸ì§€ê°€ ì—†ìŒ

**ì¦ìƒ**:
- `/api/visitor/events` ì‘ë‹µì—ì„œ `image_url`ì´ í•­ìƒ `null`

**ì›ì¸**:
1. ì´ë¯¸ì§€ ìš°ì„ ìˆœìœ„ ë¡œì§ì´ ì ìš©ë˜ì§€ ì•ŠìŒ
2. `has_custom_image` í”Œë˜ê·¸ê°€ ì˜ëª» ì„¤ì •ë¨

**í•´ê²° ë°©ë²•**:
```sql
-- ë°ì´í„° í™•ì¸
SELECT id, event_name,
       image_url,
       unsplash_image_url,
       has_custom_image
FROM events
WHERE id = 6;

-- has_custom_image ìˆ˜ë™ ì—…ë°ì´íŠ¸
UPDATE events
SET has_custom_image = FALSE
WHERE image_url IS NULL OR image_url = '';
```

### ë¬¸ì œ 4: ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤íŒ¨

**ì¦ìƒ**:
- `python add_unsplash_fields.py` ì‹¤í–‰ ì‹œ ì—ëŸ¬

**ì›ì¸**:
1. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹¤íŒ¨
2. ì»¬ëŸ¼ì´ ì´ë¯¸ ì¡´ì¬í•¨
3. ê¶Œí•œ ë¶€ì¡±

**í•´ê²° ë°©ë²•**:
```bash
# 1. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í™•ì¸
psql "$DATABASE_URL" -c "SELECT 1"

# 2. ì»¬ëŸ¼ ì¡´ì¬ ì—¬ë¶€ í™•ì¸
psql "$DATABASE_URL" -c "
SELECT column_name
FROM information_schema.columns
WHERE table_name = 'events'
  AND column_name IN ('unsplash_image_url', 'has_custom_image')
"

# 3. ìˆ˜ë™ ë§ˆì´ê·¸ë ˆì´ì…˜
psql "$DATABASE_URL" -c "
ALTER TABLE events
ADD COLUMN IF NOT EXISTS unsplash_image_url VARCHAR,
ADD COLUMN IF NOT EXISTS has_custom_image BOOLEAN DEFAULT FALSE;
"
```

### ë¬¸ì œ 5: ChatGPT API ë¹„ìš© ë¬¸ì œ

**ì¦ìƒ**:
- ì´ë²¤íŠ¸ ìƒì„±ë§ˆë‹¤ ChatGPT API í˜¸ì¶œë¡œ ë¹„ìš© ë°œìƒ

**í•´ê²° ë°©ë²•**:
```python
# UnsplashServiceì— ìºì‹± ë¡œì§ ì¶”ê°€
_query_cache = {}

def _generate_search_query(self, event_name, description, tags):
    cache_key = f"{event_name}:{','.join(tags)}"
    if cache_key in self._query_cache:
        return self._query_cache[cache_key]

    # ChatGPT í˜¸ì¶œ
    query = ...

    self._query_cache[cache_key] = query
    return query
```

---

## ì°¸ê³  ìë£Œ

### Unsplash API

- [ê³µì‹ ë¬¸ì„œ](https://unsplash.com/documentation)
- [API ê°€ì´ë“œë¼ì¸](https://unsplash.com/api-terms)
- [Rate Limits](https://unsplash.com/documentation#rate-limiting): 50 requests/hour (ë¬´ë£Œ)

### OpenAI API

- [GPT-4o-mini ë¬¸ì„œ](https://platform.openai.com/docs/models/gpt-4o-mini)
- [ê°€ê²©](https://openai.com/pricing): $0.15/1M input tokens

### ChronoMorph ë””ìì¸ ì‹œìŠ¤í…œ

- í”„ë¡œì íŠ¸ ë‚´ë¶€ íŒŒì¼: `frontend/src/styles/global.css`

---

## ì—°ë½ì²˜

ë¬¸ì œê°€ ë°œìƒí•˜ê±°ë‚˜ ì¶”ê°€ ì„¤ëª…ì´ í•„ìš”í•˜ë©´ ì—°ë½ ì£¼ì„¸ìš”.

**ì‘ì„±ì**: Naru (Claude Code)
**ë‚ ì§œ**: 2025-01-07
**Git Branch**: [branch-name]

---

## ë³€ê²½ ì´ë ¥

| ë‚ ì§œ | ë³€ê²½ ë‚´ìš© | ì‘ì„±ì |
|------|----------|--------|
| 2025-01-07 | ì´ˆì•ˆ ì‘ì„± | Naru |
| 2025-01-07 | Unsplash í†µí•© ì™„ë£Œ | Naru |
| 2025-01-07 | í”„ë¡ íŠ¸ì—”ë“œ ìŠ¤íƒ€ì¼ ê°œì„  | Naru |
| 2025-01-07 | ë¬¸ì„œí™” ì™„ë£Œ | Naru |

---

**ğŸš¨ ì¤‘ìš”**: ì´ ë¬¸ì„œëŠ” Git Merge ì „ì— ë°˜ë“œì‹œ ê²€í† í•´ì£¼ì„¸ìš”. ì¶©ëŒ ê°€ëŠ¥ì„±ì´ ìˆëŠ” íŒŒì¼ì´ ë§ìœ¼ë¯€ë¡œ ì‹ ì¤‘í•œ ë³‘í•©ì´ í•„ìš”í•©ë‹ˆë‹¤.

## ì˜¤ëŠ˜(2025-11-07) ìˆ˜í–‰í•œ ì£¼ìš” ìˆ˜ì •ì‚¬í•­ ë° ë°±ì—…

### ìš”ì•½
- ë¡œì»¬ì—ì„œ ì§„í–‰í•œ ê°œë°œ ì‘ì—…ì„ `naruDrive` ë¸Œëœì¹˜ì— WIP ì»¤ë°‹ìœ¼ë¡œ ì •ë¦¬í•˜ì—¬ ì›ê²©(`origin/naruDrive`)ì— í‘¸ì‹œ(ë°±ì—…) ì™„ë£Œ

### ì»¤ë°‹ ëª©ë¡ (ë¡œì»¬ â†’ ì›ê²©ì— í‘¸ì‹œë¨)
- `backend: WIP - update event routes and models` â€” `backend/main.py`, `backend/models/event.py`, `backend/routes/events.py`, `backend/routes/events_visitor.py` ìˆ˜ì • (ì´ë¯¸ì§€ ì²˜ë¦¬ ë° ëª¨ë¸ í•„ë“œ ë³€ê²½ í¬í•¨)
- `frontend: WIP - visitor pages logic updates` â€” ë°©ë¬¸ììš© í˜ì´ì§€ ë¡œì§(`EventDetail.jsx`, `EventList.jsx`, `SurveyResponse.jsx`, `VisitorHome.jsx` ë“±) ë³€ê²½, API í†µí•©
- `styles: update CSS for pages and global styles` â€” ì—¬ëŸ¬ CSS íŒŒì¼ ë° ë””ìì¸ ìŠ¤íƒ€ì¼ ëŒ€í­ ë³€ê²½
- `chore: update package-lock` â€” `frontend/package-lock.json` ê°±ì‹ 

### ì£¼ì˜ì‚¬í•­/í›„ì† ì‘ì—…
- ë¯¼ê° ì •ë³´(.env ë“±)ëŠ” ì»¤ë°‹ë˜ì§€ ì•Šì•˜ìŒì„ í™•ì¸í–ˆìŒ. ê·¸ë˜ë„ ì›ê²©ì—ì„œ ë™ë£Œê°€ pull í•˜ê¸° ì „ì— `.env` íŒŒì¼ì´ ë…¸ì¶œë˜ì§€ ì•Šì•˜ëŠ”ì§€ ì¬í™•ì¸ ê¶Œì¥
- ë¯¸ì¶”ì (untracked) íŒŒì¼ (`Mini-visWork/`, `backend/add_unsplash_fields.py` ë“±)ì€ í˜„ì¬ í¬í•¨ë˜ì§€ ì•Šì•˜ìŒ. í•„ìš” ì‹œ ë³„ë„ ë¸Œëœì¹˜ì— ì¶”ê°€ ê¶Œì¥
- ë¡œì»¬ì—ì„œ ë°±ì—…í•œ ì»¤ë°‹ì€ ì„ì‹œ(WIP) ì»¤ë°‹ì…ë‹ˆë‹¤. ë¦¬ë·°/ë¦¬íŒ©í† ë§ í›„ ì •ë¦¬(ìŠ¤ì¿¼ì‹œ/ì •ëˆ) ê¶Œì¥

### ì›ê²© ì •ë³´
- í‘¸ì‹œ ëŒ€ìƒ: `origin/naruDrive`
- ìµœì¢… í‘¸ì‹œ ì»¤ë°‹ (ì˜ˆ): `b3dc662` (ì°¸ê³ ìš© â€” ì‹¤ì œ í•´ì‹œê°’ì€ ë¦¬í¬ì§€í† ë¦¬ì—ì„œ í™•ì¸ ìš”ë§)

---

_ì‘ì„±ì_: Naru
_ì¼ì‹œ_: 2025-11-07

